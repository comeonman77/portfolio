<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Portfolio | MinJun Choi</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <div class="bg-grid"></div>
    <div class="bg-gradient"></div>

    <!-- Login Modal -->
    <div class="login-overlay" id="login-overlay">
        <div class="login-modal">
            <div class="login-header">
                <div class="login-icon">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                        <path d="M7 11V7a5 5 0 0110 0v4"/>
                    </svg>
                </div>
                <h2 class="login-title">Admin Access</h2>
                <p class="login-subtitle">Enter your password to edit the portfolio</p>
            </div>
            <form class="login-form" id="login-form">
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <div class="password-input-wrapper">
                        <input type="password" class="form-input" id="login-password" placeholder="Enter admin password" autocomplete="current-password">
                        <button type="button" class="password-toggle" id="password-toggle" tabindex="-1">
                            <svg class="eye-open" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                            <svg class="eye-closed" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none;">
                                <path d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"/>
                                <line x1="1" y1="1" x2="23" y2="23"/>
                            </svg>
                        </button>
                    </div>
                    <p class="login-error" id="login-error"></p>
                </div>
                <button type="submit" class="btn btn-primary btn-full" id="login-btn">
                    <span>Login</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 3h4a2 2 0 012 2v14a2 2 0 01-2 2h-4"/>
                        <polyline points="10 17 15 12 10 7"/>
                        <line x1="15" y1="12" x2="3" y2="12"/>
                    </svg>
                </button>
            </form>
            <div class="login-footer">
                <a href="index.html" class="login-back">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Back to Portfolio
                </a>
            </div>
        </div>
    </div>

    <!-- Admin Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <span class="logo-bracket">{</span>
                <span class="logo-text">MJ</span>
                <span class="logo-bracket">}</span>
            </a>
            <div class="nav-links">
                <a href="index.html" class="nav-link">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Back to Portfolio
                </a>
                <button class="btn btn-secondary" id="logout-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/>
                        <polyline points="16 17 21 12 16 7"/>
                        <line x1="21" y1="12" x2="9" y2="12"/>
                    </svg>
                    Logout
                </button>
                <button class="btn btn-primary" id="save-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"/>
                        <polyline points="17 21 17 13 7 13 7 21"/>
                        <polyline points="7 3 7 8 15 8"/>
                    </svg>
                    Save Changes
                </button>
            </div>
        </div>
    </nav>

    <!-- Admin Main Content (hidden until authenticated) -->
    <main class="admin-main" id="admin-main" style="display: none;">
        <div class="admin-container">
            <header class="admin-header">
                <h1 class="admin-title">Edit Your Portfolio</h1>
                <p class="admin-subtitle">Make changes to your portfolio content. All changes are saved locally.</p>
                <div class="admin-actions">
                    <button class="btn btn-secondary" id="reset-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12a9 9 0 019-9 9.75 9.75 0 016.74 2.74L21 8"/>
                            <path d="M21 3v5h-5"/>
                            <path d="M21 12a9 9 0 01-9 9 9.75 9.75 0 01-6.74-2.74L3 16"/>
                            <path d="M3 21v-5h5"/>
                        </svg>
                        Reset to Default
                    </button>
                    <button class="btn btn-secondary" id="export-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                            <polyline points="7 10 12 15 17 10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        Export Data
                    </button>
                    <label class="btn btn-secondary" id="import-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                            <polyline points="17 8 12 3 7 8"/>
                            <line x1="12" y1="3" x2="12" y2="15"/>
                        </svg>
                        Import Data
                        <input type="file" id="import-input" accept=".json" hidden>
                    </label>
                    <button class="btn btn-secondary" id="change-password-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                            <path d="M7 11V7a5 5 0 0110 0v4"/>
                        </svg>
                        Change Password
                    </button>
                </div>
            </header>

            <!-- Tabs -->
            <div class="admin-tabs">
                <button class="tab-btn active" data-tab="personal">Personal Info</button>
                <button class="tab-btn" data-tab="education">Education</button>
                <button class="tab-btn" data-tab="experience">Experience</button>
                <button class="tab-btn" data-tab="projects">Projects</button>
                <button class="tab-btn" data-tab="skills">Skills</button>
            </div>

            <!-- Tab Content -->
            <div class="admin-content">
                <!-- Personal Info Tab -->
                <div class="tab-content active" id="tab-personal">
                    <div class="form-section">
                        <h2 class="form-section-title">Personal Information</h2>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Full Name</label>
                                <input type="text" class="form-input" id="personal-name" placeholder="Your name">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Professional Title</label>
                                <input type="text" class="form-input" id="personal-title" placeholder="e.g., Full-Stack Developer">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-input" id="personal-email" placeholder="your@email.com">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Phone</label>
                                <input type="tel" class="form-input" id="personal-phone" placeholder="+65 12345678">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Location</label>
                                <input type="text" class="form-input" id="personal-location" placeholder="City, Country">
                            </div>
                            <div class="form-group">
                                <label class="form-label">LinkedIn URL</label>
                                <input type="url" class="form-input" id="personal-linkedin" placeholder="https://linkedin.com/in/...">
                            </div>
                            <div class="form-group">
                                <label class="form-label">GitHub URL</label>
                                <input type="url" class="form-input" id="personal-github" placeholder="https://github.com/...">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Available for Work</label>
                                <label class="form-toggle">
                                    <input type="checkbox" id="personal-available">
                                    <span class="toggle-slider"></span>
                                    <span class="toggle-label">Show "Available" badge</span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group form-group-full">
                            <label class="form-label">Bio / About</label>
                            <textarea class="form-textarea" id="personal-bio" rows="4" placeholder="Write a brief introduction about yourself..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Education Tab -->
                <div class="tab-content" id="tab-education">
                    <div class="form-section">
                        <h2 class="form-section-title">Education</h2>
                        <div class="form-grid">
                            <div class="form-group form-group-full">
                                <label class="form-label">School / University</label>
                                <input type="text" class="form-input" id="education-school" placeholder="University name">
                            </div>
                            <div class="form-group form-group-full">
                                <label class="form-label">Degree</label>
                                <input type="text" class="form-input" id="education-degree" placeholder="e.g., Bachelor of Science in...">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Location</label>
                                <input type="text" class="form-input" id="education-location" placeholder="City, Country">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Start Date</label>
                                <input type="text" class="form-input" id="education-start" placeholder="e.g., Sep 2020">
                            </div>
                            <div class="form-group">
                                <label class="form-label">End Date</label>
                                <input type="text" class="form-input" id="education-end" placeholder="e.g., Apr 2026 or Expected">
                            </div>
                            <div class="form-group form-group-full">
                                <label class="form-label">Additional Notes (optional)</label>
                                <input type="text" class="form-input" id="education-note" placeholder="e.g., Dean's List, GPA, etc.">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Experience Tab -->
                <div class="tab-content" id="tab-experience">
                    <div class="form-section">
                        <div class="form-section-header">
                            <h2 class="form-section-title">Work Experience</h2>
                            <button class="btn btn-secondary btn-sm" id="add-experience">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="5" x2="12" y2="19"/>
                                    <line x1="5" y1="12" x2="19" y2="12"/>
                                </svg>
                                Add Experience
                            </button>
                        </div>
                        <div id="experience-list" class="items-list"></div>
                    </div>
                </div>

                <!-- Projects Tab -->
                <div class="tab-content" id="tab-projects">
                    <div class="form-section">
                        <div class="form-section-header">
                            <h2 class="form-section-title">Projects</h2>
                            <button class="btn btn-secondary btn-sm" id="add-project">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="5" x2="12" y2="19"/>
                                    <line x1="5" y1="12" x2="19" y2="12"/>
                                </svg>
                                Add Project
                            </button>
                        </div>
                        <div id="projects-list" class="items-list"></div>
                    </div>
                </div>

                <!-- Skills Tab -->
                <div class="tab-content" id="tab-skills">
                    <div class="form-section">
                        <h2 class="form-section-title">Skills</h2>
                        <div class="form-group">
                            <label class="form-label">Programming Languages</label>
                            <input type="text" class="form-input" id="skills-languages" placeholder="Separate with commas: C, C++, JavaScript">
                            <p class="form-hint">Enter skills separated by commas</p>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Technologies & Tools</label>
                            <input type="text" class="form-input" id="skills-technologies" placeholder="Separate with commas: React, Node.js, Unity">
                            <p class="form-hint">Enter skills separated by commas</p>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Databases</label>
                            <input type="text" class="form-input" id="skills-databases" placeholder="Separate with commas: PostgreSQL, MongoDB">
                            <p class="form-hint">Enter skills separated by commas</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Change Password Modal -->
    <div class="modal-overlay" id="password-modal" style="display: none;">
        <div class="login-modal">
            <div class="login-header">
                <div class="login-icon">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                        <path d="M7 11V7a5 5 0 0110 0v4"/>
                    </svg>
                </div>
                <h2 class="login-title">Change Password</h2>
                <p class="login-subtitle">Generate a new password hash</p>
            </div>
            <div class="login-form">
                <div class="form-group">
                    <label class="form-label">New Password</label>
                    <input type="password" class="form-input" id="new-password" placeholder="Enter new password">
                </div>
                <div class="form-group">
                    <label class="form-label">Confirm Password</label>
                    <input type="password" class="form-input" id="confirm-password" placeholder="Confirm new password">
                </div>
                <button type="button" class="btn btn-primary btn-full" id="generate-hash-btn">Generate Hash</button>
                <div class="hash-result" id="hash-result" style="display: none;">
                    <label class="form-label">Your New Password Hash</label>
                    <textarea class="form-textarea hash-output" id="hash-output" rows="3" readonly></textarea>
                    <p class="form-hint">Copy this hash and replace PASSWORD_HASH in auth.js file, then redeploy your site.</p>
                    <button type="button" class="btn btn-secondary btn-full" id="copy-hash-btn">Copy Hash</button>
                </div>
            </div>
            <div class="login-footer">
                <button type="button" class="login-back" id="close-password-modal">Close</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <div class="toast-content">
            <svg class="toast-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                <polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
            <span class="toast-message">Changes saved successfully!</span>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="auth.js"></script>
    <script src="admin.js"></script>
</body>
</html>
